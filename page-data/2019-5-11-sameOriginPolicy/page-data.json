{"componentChunkName":"component---src-templates-blog-post-js","path":"/2019-5-11-sameOriginPolicy/","result":{"data":{"site":{"siteMetadata":{"title":"Move fast and break things.","author":"wang yao","siteUrl":"http://cuteshilina.com","comment":{"disqusShortName":"","utterances":"Soyn/Soyn.github.io.git"},"sponsor":{"buyMeACoffeeId":"jbee"}}},"markdownRemark":{"id":"0f8fa345-1fc7-509e-9d21-7946c0293cef","excerpt":"什么是同源策略 \n上面是对同源策略的定义，简单来说同源策略就是限制不同的源（）之间的交互的安全策略。想象如果没有同源策略的限制，你访问银行的网站A时的登录信息，在你访问另一个网站B的时候，B网站可以拿到A网站的信息，如果B网站有恶意的代码，就可以直接访问你的银行账户。\n同源策略中的同源，是三个相同： 协议相同 域名相同 端口号相同 以为例： URL Outcome Reason http://www.example1.com Failure 域名不同 http://www.example.com:8080 Failure 端口号不同 http://www…","html":"<h1 id=\"什么是同源策略\" style=\"position:relative;\"><a href=\"#%E4%BB%80%E4%B9%88%E6%98%AF%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5\" aria-label=\"什么是同源策略 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>什么是同源策略</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 14.864864864864865%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAi0lEQVQI13WOwQqDMBBE/f8vrAe1eojZZBPR1oJg+moiFnro4TGzO+wylTEjTdNS32pEBHiT0s6+X6Q//peUzqyalyej9RhjcM5jxR+qqCo+zOj0IsSsDzTPemYxxq8PGsrtuq5U7mjVtR1D39N2d/rBFKy1R2NXWouPOJ2QspNCfnDl2S/zwrZtfADWnuOnmFnHggAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"wiki\"\n        title=\"wiki\"\n        src=\"/static/49845fdad5ecbf983a6b04332b3a2a3d/fcda8/wiki.png\"\n        srcset=\"/static/49845fdad5ecbf983a6b04332b3a2a3d/12f09/wiki.png 148w,\n/static/49845fdad5ecbf983a6b04332b3a2a3d/e4a3f/wiki.png 295w,\n/static/49845fdad5ecbf983a6b04332b3a2a3d/fcda8/wiki.png 590w,\n/static/49845fdad5ecbf983a6b04332b3a2a3d/efc66/wiki.png 885w,\n/static/49845fdad5ecbf983a6b04332b3a2a3d/c83ae/wiki.png 1180w,\n/static/49845fdad5ecbf983a6b04332b3a2a3d/1bba3/wiki.png 1433w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n上面是<code class=\"language-text\">Wikipedia</code>对同源策略的定义，简单来说同源策略就是限制不同的源（<code class=\"language-text\">Domain</code>）之间的交互的安全策略。想象如果没有同源策略的限制，你访问银行的网站A时的登录信息，在你访问另一个网站B的时候，B网站可以拿到A网站的信息，如果B网站有恶意的代码，就可以直接访问你的银行账户。\n同源策略中的同源，是三个相同：</p>\n<ul>\n<li>协议相同</li>\n<li>域名相同</li>\n<li>端口号相同</li>\n</ul>\n<p>以<code class=\"language-text\">http://www.example.com</code>为例：</p>\n<table>\n<thead>\n<tr>\n<th>URL</th>\n<th>Outcome</th>\n<th>Reason</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><a href=\"http://www.example1.com\">http://www.example1.com</a></td>\n<td>Failure</td>\n<td>域名不同</td>\n</tr>\n<tr>\n<td><a href=\"http://www.example.com:8080\">http://www.example.com:8080</a></td>\n<td>Failure</td>\n<td>端口号不同</td>\n</tr>\n<tr>\n<td><a href=\"http://www.example.com/dir/page.html\">http://www.example.com/dir/page.html</a></td>\n<td>Same Origin</td>\n<td>仅仅是path不同</td>\n</tr>\n<tr>\n<td><a href=\"https://www.example1.com\">https://www.example1.com</a></td>\n<td>Failure</td>\n<td>协议不同</td>\n</tr>\n</tbody>\n</table>\n<h1 id=\"同源策略限制的范围\" style=\"position:relative;\"><a href=\"#%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5%E9%99%90%E5%88%B6%E7%9A%84%E8%8C%83%E5%9B%B4\" aria-label=\"同源策略限制的范围 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>同源策略限制的范围</h1>\n<p>同源策略对跨源访问的控制可以分为三类；</p>\n<ul>\n<li>对跨域资源的<code class=\"language-text\">写操作</code>是可以，例如表单提交、重定向这些不受同源策略的限制</li>\n<li>一些替换元素（img、audio、video等）不受同源策略的限制</li>\n<li>不同源之间的资源读操作（获取cookie、localStorage、DOM、AJAX请求等）受到同源策略的限制</li>\n</ul>\n<p>对于开发人员来说，第三条限制，跨域资源之间的读取受到限制，这个是最常遇见的问题，对于第二条中一些HTML原生标签不受跨域访问的限制，可以用来<code class=\"language-text\">hack</code>掉同源策略的限制，以下资源是不受同源策略限制的：</p>\n<ul>\n<li><code class=\"language-text\">&lt;script&gt;标签</code></li>\n<li><code class=\"language-text\">外部CSS的加载&lt;link rel=&quot;stylesheet&quot; href=&quot;...&quot;&gt;</code></li>\n<li><code class=\"language-text\">&lt;Img&gt;标签</code></li>\n<li><code class=\"language-text\">&lt;video&gt;和&lt;audio&gt;标签</code></li>\n<li><code class=\"language-text\">&lt;object&gt;、&lt;embed&gt;（&lt;applet&gt;也不受同源策略限制，但该标签已经被废弃）</code></li>\n<li><code class=\"language-text\">@font-face引用的字体（浏览器实现有差异，有些要同源）</code></li>\n<li><code class=\"language-text\">&lt;iframe&gt;中嵌入的内容</code></li>\n</ul>\n<h1 id=\"如何突破同源策略的限制\" style=\"position:relative;\"><a href=\"#%E5%A6%82%E4%BD%95%E7%AA%81%E7%A0%B4%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5%E7%9A%84%E9%99%90%E5%88%B6\" aria-label=\"如何突破同源策略的限制 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>如何突破同源策略的限制</h1>\n<h2 id=\"change-origin\" style=\"position:relative;\"><a href=\"#change-origin\" aria-label=\"change origin permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Change Origin</h2>\n<p>在网页上可以通过设置<code class=\"language-text\">document.domain</code>设置当前页面所在的域，例如，在页面<code class=\"language-text\">http://store.company.com/dir/page.html</code>中的<code class=\"language-text\">JS</code>脚本执行了下面的代码：</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">document<span class=\"token punctuation\">.</span>domain <span class=\"token operator\">=</span> <span class=\"token string\">\"company.com\"</span>；</code></pre></div>\n<p>那么在当前网站上去获取<code class=\"language-text\">http://www.company.com</code>的网站上的资源是不受同源策略的限制的，但是这个改变<code class=\"language-text\">domain</code>的方法仅仅用于二级域名获取一级域名的资源的时候，你不能在<code class=\"language-text\">http://www.company.com</code>的<code class=\"language-text\">domain</code>改变为<code class=\"language-text\">otherCompany.com</code>。</p>\n<h1 id=\"iframe\" style=\"position:relative;\"><a href=\"#iframe\" aria-label=\"iframe permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>iframe</h1>\n<p><code class=\"language-text\">iframe</code>在的父子窗口如果不是同源的话，在访问获取彼此的DOM节点或者读取数据的话，会受到同源策略的限制，无法访问。\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 99.32432432432432%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAADMUlEQVQ4y5WT2U9TURCHLwUqi4JbxC1GTUTbCi0t3bBlKVUQjTHqgxqptMEYkSCKNhEi4obBBQJu0FKjBbpRBSnVaCyIf9V9Oj/nXFDQCFcfvp629853ZubMEaIf58RI8psYSsyIY4mUODb1n/AYig0nZ0XuEsLTs4gQ7z99Rzw5i1hyhn6nEEnIE03MIEax8U9ziFJsaHoGQiiRYv1vYuys9w47da2Lnb7Syc613mLnrhNtMlzvZC5vF6u/0cUeDgZZmFxCZOorGm/3YLeqFIeqDNh5UgvBroewSwehkNgjw156d4cKJ5q9lHEKQjD+EY3t95GnMWG70YR8mxFpRjPS1MR+edKLLJL4+KU2BONJCIHwB7hvdELQGJFtrMIqrR2CykSUzrOPUBvpuemvcCkXHm1sQSA0AcE3+g6uax3Sw/VWBzZX1CDPXIlsvQ15pkrkm6uQqS1bVvpTeNhzGb6ROIQh+nBdbad+lUiSbVV12FJRK33n5JM8U2uVFda6mzD0NkbCYBz1rTepNAMyiq1YSxltPOAkkZNENtrIsCjj6x/iX8KGJgz+KeQ9y+CZmSqwtdyMgnITcktLaCPeR5PU59+RE9Lu6aV2ZNkOIrfMik12DbY51CsIjfLCDN4zWzWU5XXIMVJPK1V0OLr5k+fSpauKZBqZkhWUobKsGrkWM9ZZddhQVkz91ErkGEqwhuTZej3WWrR0eBr6nzIt1JPw0lJhuyTk47GaRiXP4sAmm5OCLVSugYaXequllUrPXFiVOgOyaQOlzixNyGKGNDb10tjokVVik064wH6I1oNQ7LculqiWKdm9IJQG+2oHFEVmScJncD2VLF0pNW86naRmGeiZgr9HGdbxwaZqhUBoEufbbs1fdM3CnPErRxlLF18O3vudGropzfNXbzj8gXX1vmLHLrSwGtdFVn3GwxynG/4BN3Oe9bBaijniaWbe7j7mD00y4fV4EoOU6rPhMTx+5kf30xe493gAdx+tzD3iwZPn6On3YcA/glfBcQSiCQgjk1/EQHRafBmMiwOBsNjnHxV7h0bEp0PBFekl+nyjYn8gJL54Oy4OR6bE4MRn8QcfHQ/iOrUShwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"iframe\"\n        title=\"iframe\"\n        src=\"/static/390bcd5a0b4457e6cf9b5680d05b2acb/fcda8/iframe.png\"\n        srcset=\"/static/390bcd5a0b4457e6cf9b5680d05b2acb/12f09/iframe.png 148w,\n/static/390bcd5a0b4457e6cf9b5680d05b2acb/e4a3f/iframe.png 295w,\n/static/390bcd5a0b4457e6cf9b5680d05b2acb/fcda8/iframe.png 590w,\n/static/390bcd5a0b4457e6cf9b5680d05b2acb/cab8c/iframe.png 744w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n父窗口所在的域为<code class=\"language-text\">http://localhost:5500</code>，其中子窗口所在的域为<code class=\"language-text\">http://localhost:8080</code>，这里父子窗口是同源的，所以彼此在获取资源的时候，会受到同源策略的限制：\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 33.78378378378378%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABHUlEQVQoz4VSa0+DQBDk//+s+k0SbWNrrLY2Kc/jcTyOA0Fux72rpI2Juslk94a9YZjg6UKjbVtIWaGqG2R5gSzLIbirosAYhZiGAQSAiP6FJ7IMcZwgL0r0fNEYc8U8O9hFe/7ZL7jOTjCKIgRBACtc17WDday1RlVV7mznhZNSous6KKWY61A3E/O927OinhACwZkFReaWav7snhds0eLSvv3W+S9wDkt2EaYCKeelxwlq+EA/jhgN4bboG3+VE5Qve+inLZrNBurhEWq7g9ozt17DnE4wx+OlJwnofEYXxyg5Jml7GKJJUyT83M7EUXjN2yvI92HuVjArhn8Pet6BTu8XscMBhoVMWcJwznOeY2J8Lt3+CczbmTjfL+G5GbOKEM1hAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"parent\"\n        title=\"parent\"\n        src=\"/static/7408e8542b2999605d036b3dd6ddac2a/fcda8/parent.png\"\n        srcset=\"/static/7408e8542b2999605d036b3dd6ddac2a/12f09/parent.png 148w,\n/static/7408e8542b2999605d036b3dd6ddac2a/e4a3f/parent.png 295w,\n/static/7408e8542b2999605d036b3dd6ddac2a/fcda8/parent.png 590w,\n/static/7408e8542b2999605d036b3dd6ddac2a/7608e/parent.png 735w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 104.05405405405406%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC30lEQVQ4y62U2W7bMBBF9f+f1Kei6JKiAZrYdbwojmLtEqndlmRZ1O0lGwVpm4ciKIEDChR5ZyFnrN1uh/V6jf1+j7qpkYcZ0vsUXV3jSIRoIdIT0rRBXpxQF0c0skFbd9Bjwu/DWi6X+HJ1hdvbBYo8o9ARYh8htm3IKIb7KBG4Ev4hROSHCJwD/wfos5JqCtPlgmkcn7GyLIOUElVVoZCC1gsEm0cEtoemLFHn0lAVOf9JFGGAOgox8Z8RGYbfsJqGITQNTqcTyrpCHuco/JzG/wzm34ZVM08aLTrQwtCfMXS0Nk1vwtJCs6hZfErzvGH+/mcPXwoqpQxvFXtV8KXQm0KexV7z8M05nL38H8Mq+Z70G3zpqca8y6Iwz6nrOpzPvaHvf6HXXsPyPI9llRoBPSdJApvlqInj2IhqA2GUGOY9er925k+snOUmRMo6LSDzHIKV4/o+D0c4Ho/P3rtBCsejoBCmso70XP+fUzZjHfwYP1b38PcHlpsNj54VAWuV1iQPa6t6Y9+1Bh2WXtOiGh3BnB7joReGiMMI/naHhB1HPDwgcxzWawTX9RheyjAFzrqKLqN5Bbr+Q56JuKekmPY0iRMIGrCSsGY3Kc1id2pxaltUunWxxnt6oy+l5qHhfDadRenuQtGnx2omHYlDJwJGZmXrHbLPX6EWC4zX1xi/fYO6W+HCtna5+Y5pu8HEb7VcQPEC1eGAkuREOA+oKdKQ+P4ehevC0vnKdjYSe49Uz6s14vUW/t0GCdMguKZkhklDrzWKjHUDRS5VjaEo0ecFzpytNNoyh3eIghUCb4mI3567hO8ukEQb5svBZZBQI1uaoXie2RQRRza2m2vs7RuEwRaW8K94s++Qep+QPH5A5LyH9L8gdT8iIW25QiVuUKXfMfYOm6gLNRyeycUPJOEN0ugWWbqEde4KXoYkGS+BbpP+lLMvVuiOEuOFYar2ie4v1Njy5lsz6z0/ASsCSTrLkd2ZAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"child\"\n        title=\"child\"\n        src=\"/static/b71d50b75cc6db015890660811ca1c64/fcda8/child.png\"\n        srcset=\"/static/b71d50b75cc6db015890660811ca1c64/12f09/child.png 148w,\n/static/b71d50b75cc6db015890660811ca1c64/e4a3f/child.png 295w,\n/static/b71d50b75cc6db015890660811ca1c64/fcda8/child.png 590w,\n/static/b71d50b75cc6db015890660811ca1c64/aec65/child.png 687w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n对于<code class=\"language-text\">iframe</code>额跨域问题，有三种解决办法：</p>\n<ul>\n<li>使用<code class=\"language-text\">fragement</code>（hash tag）</li>\n<li>windows.name</li>\n<li>\n<p>postMessage</p>\n<h2 id=\"fragement\" style=\"position:relative;\"><a href=\"#fragement\" aria-label=\"fragement permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Fragement</h2>\n<p>这里的<code class=\"language-text\">fragement</code>指的是<code class=\"language-text\">url</code>中<code class=\"language-text\">#</code>后面的部分，在父窗口中把信息作为<code class=\"language-text\">hash</code>写入到子窗口的src上。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> originalSrc <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'myFrame'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>src<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> src <span class=\"token operator\">=</span> originalSrc <span class=\"token operator\">+</span> <span class=\"token string\">'#'</span> <span class=\"token operator\">+</span> data<span class=\"token punctuation\">;</span>\ndocument<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'myFrame'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span>src<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>因为<code class=\"language-text\">url hash</code>的改变不会引起页面的刷新，但是会触发<code class=\"language-text\">onhashchange</code>的事件，在子窗口中监听<code class=\"language-text\">onhashchange</code>的事件。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">getData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span>hash<span class=\"token punctuation\">;</span>\n  <span class=\"token operator\">...</span><span class=\"token operator\">...</span>\n<span class=\"token punctuation\">}</span>\nwindow<span class=\"token punctuation\">.</span>onhashchange <span class=\"token operator\">=</span> getData</code></pre></div>\n<p>同样，子窗口也可以通过同样的方式，向父窗口传递数据：</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">parent<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span>parentUrl <span class=\"token operator\">+</span> <span class=\"token string\">\"#\"</span> <span class=\"token operator\">+</span> data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"code-classlanguage-textwindownamecode\" style=\"position:relative;\"><a href=\"#code-classlanguage-textwindownamecode\" aria-label=\"code classlanguage textwindownamecode permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">window.name</code></h2>\n<p><code class=\"language-text\">window.name</code>在页面进行跳转前设置的值，在跳转后也可以访问到，我们可以借助<code class=\"language-text\">window.name</code>的这个特性来解决跨域问题，整个流程如下：</p>\n</li>\n<li>在父窗口设置子<code class=\"language-text\">iframe</code>的<code class=\"language-text\">src</code>，在子窗口<code class=\"language-text\">load</code>成功后将<code class=\"language-text\">data</code>挂到<code class=\"language-text\">window.name</code>上，然后设置子窗口的<code class=\"language-text\">location.href</code>到与父窗口同域的页面</li>\n<li>\n<p>跳转到同域的页面后，父窗口就可以通过<code class=\"language-text\">window.name</code>拿到跨域页面设置的数据了\n例如：</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">a<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>index<span class=\"token punctuation\">.</span>html  <span class=\"token comment\">// {A}</span>\nb<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>index<span class=\"token punctuation\">.</span>html  <span class=\"token comment\">// {B}</span>\na<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>empty<span class=\"token punctuation\">.</span>html  <span class=\"token comment\">// {C}</span></code></pre></div>\n<p>我们在<code class=\"language-text\">A</code>中加载完成后，在<code class=\"language-text\">A</code>页面中设置<code class=\"language-text\">src</code>为<code class=\"language-text\">B</code>页面的<code class=\"language-text\">url</code>，在<code class=\"language-text\">iframe</code>加载成功后，将数据设置到<code class=\"language-text\">window.name</code>上，然后改变自己的<code class=\"language-text\">location.href</code>为<code class=\"language-text\">C</code>页面，<code class=\"language-text\">C</code>页面加载成功后，<code class=\"language-text\">A</code>页面和<code class=\"language-text\">B</code>页面就是同源的了，这个时候<code class=\"language-text\">A</code>页面去子窗口上取<code class=\"language-text\">window.name</code>的值就不会因为跨域问题而报错了。 <strong>使用window.name的关键是在设置完window.name后，要将页面跳转到与父窗口同源的页面，这样主窗口才能访问子窗口上设置的数据</strong></p>\n<h2 id=\"windowpostmessag\" style=\"position:relative;\"><a href=\"#windowpostmessag\" aria-label=\"windowpostmessag permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>window.postMessag</h2>\n<p><code class=\"language-text\">html5</code>提供了<code class=\"language-text\">postMessage</code>的机制，用于不同源之间的通信：</p>\n</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 16.216216216216214%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAeElEQVQI152NWQoDIRBE5/4XNIiEfAR11BFxAz/GCtWQHCAN1a8XqDr23qi1wjkH7z2stSLOOWeklHBdlzDGiFKK7Px97xR3eh33feP1tniYJ5RSMMZAay0MIUgQeZ7njwykGckbyTAxZJtzoveOMQZaa6K1Fv6pD0Re5KKd5NhZAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"postMessage MDN\"\n        title=\"postMessage MDN\"\n        src=\"/static/949c7cc4e10beca3b39f3c3b82178ccc/fcda8/postMessage.png\"\n        srcset=\"/static/949c7cc4e10beca3b39f3c3b82178ccc/12f09/postMessage.png 148w,\n/static/949c7cc4e10beca3b39f3c3b82178ccc/e4a3f/postMessage.png 295w,\n/static/949c7cc4e10beca3b39f3c3b82178ccc/fcda8/postMessage.png 590w,\n/static/949c7cc4e10beca3b39f3c3b82178ccc/f941f/postMessage.png 736w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p><img src=\"./images/pm0.png\">\n在父窗口中监听<code class=\"language-text\">message</code>事件\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 106.75675675675676%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAADSElEQVQ4y5WUW08TQRiG+wOMlu6pO7vb7W53e94WDHj4FcZzKCECQRQVrSgxeOWNJiQYNQpqxIiYRkALikJF0OgFagxi7+wF/hTm85ttLZFUhYs3M7s788x3eGc9E7MfZifnPr7OL3yeeVZYepWf36Lefno1vfhlZgIZjOWZmP04e/3e2Pu2ts4fLZ0dpQOZY6WDzajM5nQo01Y60trx4+aD3DvG8owjtbv38rJDBAinRNjG+cDrrYMddSjvf1RZs93rhWz/la/jrzHCJ9Nv546f6f0uGjbVko1rihVdU+wY9Ws6Ff0yilTGmlpjoyD56ane/m+M5Xmcf1Po6D5XlLQgyKZNeUGkPkEETpCA4wXgBSYRcBPwouSKzStyYex719m+FcZCYKHQfvJsUdJN0JxGqhgWNUMWqAEdAqYFfnzPDtsAqgG8uMJYLpBFyOEGLebQYDxFQ5YNsqKCX9FAUgMgEnXzwNHnCDyVLfowPaJqNJWup9F4ApLpNMhEgTqOr8L+nXINoJ8odPeevdRJ18POxiZIOCnQgkYVtvkIu7NF1gBFNyjRTdY9FyDJxI1yS8DfTRGxVoH0LqpYYcpqJsiKK16SQXBh68Bq6qKEQIny4h/AN4X2Ez1FORQBvX4PVXWVEtN2uysbNnZYLwMQxJUhLpRlIUhlD7Lvf0aIXRZYepiurBKqGTrOQ+wZSDAEhhWGIFrJsMNADMs9BA0PrqkxSq5WygyoOU1Ui8VoKI4etA1QYw7IEQeMZAMEokkIx1GJFFjRONjRGBAzTIkVpSLaq6vnwrqxmQ99eDNM9GCyaS9lixNO0u1ywkmXI8Oo0AVAmD8JAUVDf8qEYiCYsr+GbdBvfixwyLKoFY6AFYmCiQaPxOIQxrmFUAPTDpohF8yMX6lf7ZvCOqrF0xSbg6cqFH3JalMd+XKtyoCKqrbZ2BT35xAwQEs0UEnRKgvlDePfVQb2lYFj0/NznafPr/iwDgLWyceL7nXz8SjuP6qsqfNxcDJ7afkJsjxjU/MLV2/cXWpu6yrtP9Kyuu9w5udWtP9o62qm/UTp2q37S4zlyb1YzI08nRkfGp2YHBwezQ/ceTg1cHtk0xocfpQfGp2cZIzcy8XcL7qXwrIsCL1uAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"pm1\"\n        title=\"pm1\"\n        src=\"/static/0fddce5a3382f5a0f8e21679f12cbb0a/fcda8/pm1.png\"\n        srcset=\"/static/0fddce5a3382f5a0f8e21679f12cbb0a/12f09/pm1.png 148w,\n/static/0fddce5a3382f5a0f8e21679f12cbb0a/e4a3f/pm1.png 295w,\n/static/0fddce5a3382f5a0f8e21679f12cbb0a/fcda8/pm1.png 590w,\n/static/0fddce5a3382f5a0f8e21679f12cbb0a/e9131/pm1.png 614w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n<code class=\"language-text\">iframe</code>窗口和父窗口不是同源的，通过<code class=\"language-text\">postMessage</code>将消息发送给父窗口。</p>\n<h2 id=\"jsonp\" style=\"position:relative;\"><a href=\"#jsonp\" aria-label=\"jsonp permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>JSONP</h2>\n<p>在浏览器中，<code class=\"language-text\">script</code>标签是可以从不同源的地址上加载而不受同源策略的限制，这就给我们提供了一种手段，绕过同源策略的限制，<code class=\"language-text\">JSONP</code>就是通过这种手段来达到跨域通信的，但是<code class=\"language-text\">JSONP</code>需要服务端的支持，将返回的<code class=\"language-text\">JSON</code>数据和<code class=\"language-text\">url</code>中的<code class=\"language-text\">callback</code>拼接起来，只要前端定义了这个函数，在浏览器看来，就是从服务端加载了一段带数据的函数调用。\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 99.32432432432432%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC60lEQVQ4y51US09TURjsWqH0cZ+972dvn7fgxl8gLiABE5WERI0SYmI0cQlxhUqMJYgkmhYxGEUNQWCjRMWNC9F/1F3H79yWl5FKXUymaW/nzMz3nRtb2/6O9Z2fWP+8i40vP7Dx9T+ws4utb7/AtGLLax9x5/Zd3Lg1icsTkxi7MoGxq91j/PpN1FY3EavW36Bi6jCtOE4Lfeg51YOeePzE6GXc20vch5m5Z4g9WlyC6uchumXImg3ZdCBmVAiSDEHOEHeGGD0jR3xvdh6xh09q0AwLZqUf9kAFqueBkxVwggBelE4EThAjnrpfJcGFGhTNgJQRkc+X4Fs2KpoOkU5Ntx/c+8O/BR+3HCq6AY4T4ZklOGYWZVWDp+qQKQbXlcO2oGqYyFguFNuPfuQ4HgJPkXkeHAP77hj8XVA3oRQGoBdDqDZ99rKQ6QDZyULSLfAUX8oo+xCoY4G4Y2SJ3BnlMzB8B2ZgQfOzUHJlKH4BIg3NcBzYrgvH81uH0fM8TZk/5PSIQ55OzeZsBFnqzvZgeEXoVha6bkPJGAQTckaHQN2KNEQ2tI6RU9SbQex7ARwrB9cMYBk+PKtIgwqgqRZUxWiJMcgkSD230Or5SGReFBFQ1MA3oOcr1Gk/xQ2gmja50sCxztjCUxImKCjMqQmRTIjkmi331MyhKSfTPLkzEIYutKCAoHgWrlei7gLYfgg32w/TL0IJStALlWgrJNON6pHodrFbdSDIIqfT0BQLrp2HTVFzdojACWHpNCy6kio54vcWnA2CReVaa5Xm9iJXDwRZDM0NIFNPkkTrIas0BC1iBnZXo/KZ2J+L3eb9DjXLgZoLoeXDaOeOuxHRC+Mv4Ns8zRzOLtSakmY2kxmtmUilm32JRLMvmSIkD3EnpJrxRDLC9INqM7b48j0ujl/D4PAoBodGcW5opGucH76AkUvjmHu+gtirD9uNpbdbjafL7xrz9deN+VoXqLew8GK1UV/dbKysf2r8Bt1YlaEKEkFRAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"JSONP0\"\n        title=\"JSONP0\"\n        src=\"/static/8ed1a2cf0055c5161e5e1283996457fc/fcda8/JSONP0.png\"\n        srcset=\"/static/8ed1a2cf0055c5161e5e1283996457fc/12f09/JSONP0.png 148w,\n/static/8ed1a2cf0055c5161e5e1283996457fc/e4a3f/JSONP0.png 295w,\n/static/8ed1a2cf0055c5161e5e1283996457fc/fcda8/JSONP0.png 590w,\n/static/8ed1a2cf0055c5161e5e1283996457fc/374ac/JSONP0.png 634w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 81.08108108108108%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAACfUlEQVQ4y52TTU/VQBSG+w/kXtrOdDrTdm4/uR8gookQSEhcuHHhj1EWBkEgQMIFiR+oC4wEo+LGKMaN0fjTXs+03HsLyMbFkzNzmr7znnNmrE8//uD42y8cf/mJ91//nw+nv3FCWtbeqyPcv3sHi/cWcXN2Abdm52ssjJhbOL8f5Oaqf27PL+LZ4UdYjzb6YHYTtnAxNm6j2bTRoNiwnTKa3Fhz/Dz1HK2vNZolazsvYC2tbiPSElGaQSY5rTOErRwqa0OoEFzIEiZ8cF8O9/Uc83xC4PH2PqyHK1tIYx9RnkEkBRKl4ErCV3AYwzg5tR13hFtfsyEO41jeeloJ6khAZyl8nUIHMeKwgNZE0kVArr0ohtQavjmMnBhnxpURMVwSdMlJnrUQZ12EcY4gysDIIQs1uHHLeSnkkpBryjsr90pBkwiCgByEYOSGB9Q7LsAZuaHoygBMUo5EHVNirdwrBXudALrbgyq6KOIe8mQKWTaFPJ+GoFbwIIKgAQxc1blcMvcwkack0IOOJxCSyzAkpyqAilII49D0zrRBVCWb6boDxxcFzSZP2mhnN1DkM4gnuoho4kxFcIxQ2AInzMH1yf675NWt8nQhQupjAi+gQeiEekkC5MRmXhndsyFcFLskuESCStGV8EPqEQ1GUq+EgpQaHpXoqao0l4TLAQ3x4BBlJDETS8EHK5s0UYlQpggk3TdzZVQLfpTTIFpULpWtzCEVnA7iniLnrHx6jeEzbGJ5cw/Wk53n6E3PIO90K9oDOsN10aGpn1EMmazoVvSuz2Bz/w2sw5NT9A/eYWPvAOv9l1jfHbFG+7VBNN/6o3Ud8+/u6yO8/fwdfwFhNA1SBD2PAgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"JSONP1\"\n        title=\"JSONP1\"\n        src=\"/static/0769801184b84dd3e1ae4f60827b137c/fcda8/JSONP1.png\"\n        srcset=\"/static/0769801184b84dd3e1ae4f60827b137c/12f09/JSONP1.png 148w,\n/static/0769801184b84dd3e1ae4f60827b137c/e4a3f/JSONP1.png 295w,\n/static/0769801184b84dd3e1ae4f60827b137c/fcda8/JSONP1.png 590w,\n/static/0769801184b84dd3e1ae4f60827b137c/f941f/JSONP1.png 736w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h2 id=\"cors\" style=\"position:relative;\"><a href=\"#cors\" aria-label=\"cors permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CORS</h2>\n<p><code class=\"language-text\">CORS(cross-origin resource share)</code>规范了跨域请求的标准，通过<code class=\"language-text\">HTTP</code>头让浏览器允许跨域请求的发送，这个话题，我会在下一篇博客细讲。</p>\n<h2 id=\"refrence\" style=\"position:relative;\"><a href=\"#refrence\" aria-label=\"refrence permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Refrence</h2>\n<ul>\n<li><a href=\"https://medium.com/@baphemot/understanding-cors-18ad6b478e2b\">Understanding CORS – Bartosz Szczeciński – Medium</a></li>\n<li><a href=\"http://www.ruanyifeng.com/blog/2016/04/same-origin-policy.html\">浏览器同源政策及其规避方法</a></li>\n<li><a href=\"http://www.ruanyifeng.com/blog/2016/04/cors.html\">CORS</a></li>\n<li><a href=\"https://github.com/MuYunyun/blog/issues/13\">跨域实践二三事</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS\">CORS MDN</a></li>\n</ul>\n<hr>\n<p><strong><em>兴趣遍地都是，坚持和持之以恒才是稀缺的</em></strong></p>","frontmatter":{"title":"浏览器同源策略","date":"May 11, 2019"}}},"pageContext":{"slug":"/2019-5-11-sameOriginPolicy/","previous":{"fields":{"slug":"/2019-4-20-Promise/"},"frontmatter":{"title":"Promise初探","category":"Tech"}},"next":{"fields":{"slug":"/2019-6-15-mvvm/"},"frontmatter":{"title":"双向绑定","category":"Tech"}}}},"staticQueryHashes":["3128451518","96099027"]}